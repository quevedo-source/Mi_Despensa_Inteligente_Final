<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Despensa Inteligente</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./styles/style.css">
</head>
<body class="bg-light">
    <!-- PÃ¡gina de Bienvenida -->
    <section id="pantalla-bienvenida" class="container text-center py-5"><!-- Esto lo agreguÃ© para JS-->
        <h1 class="mb-4 text-success fw-bold">Mi Despensa Inteligente</h1>
        <p class="mb-5">Registra tus alimentos, controla su fecha de vencimiento y evita el desperdicio.</p>
        <div>
            <button class="uno btn btn-success mx-2" onclick="mostrarLogin()">Iniciar SesiÃ³n</button>
            <button class="btn btn-outline-success mx-2" onclick="mostrarRegistro()">Registrarse</button>
        </div>
    </section>

    <!-- Ventana Iniciar SesiÃ³n -->
    <div id="pantalla-login" class="overlay"><!-- Esto lo agreguÃ© para JS-->
        <div class="modal-content">
            <h2>Iniciar SesiÃ³n</h2>
            <form onsubmit="iniciarSesion(event)">
                <input type="email" id="login-correo" placeholder="correo@electronico" class="form-control mb-3" required>
                <input type="password" id="login-pass" placeholder="ContraseÃ±a" class="form-control mb-3" required>
                <button type="submit" class="uno btn btn-success w-100 mb-3">Entrar</button>
                <button type="button" class="btn btn-secondary w-100" onclick="volverInicio()">Volver</button>
            </form>
        </div>
    </div>

    <!-- Ventana Registro -->
    <div id="pantalla-registro" style="display:none;" class="overlay"><!-- Esto lo agreguÃ© para JS-->
        <div class="modal-content">
            <h2>Registrarse</h2>
            <form onsubmit="registrarUsuario(event)">
                <input type="text" id="reg-nombre" placeholder="Nombre completo" class="form-control mb-3" required>
                <input type="email" id="reg-correo" placeholder="correo@electronico" class="form-control mb-3" required>
                <input type="password" id="reg-pass" placeholder="ContraseÃ±a" class="form-control mb-3" required>
                <button type="submit" class="uno btn btn-success w-100 mb-3">Registrarse</button>
                <button type="button" class="btn btn-secondary w-100" onclick="volverInicio()">Volver</button>
            </form>
        </div>
    </div>

    <!-- Dashboard Principal -->
    <section id="pantalla-dashboard" style="display:none;" class="container py-4"><!-- Esto lo agreguÃ© para JS-->
        <nav class="navbar navbar-expand-lg navbar-light bg-success rounded mb-4 px-3">
            <h3 class="navbar-brand text-white fw-bold">Mi Despensa ğŸ§º</h3><!-- Esto lo cambiÃ© -->
            <h4 class="text-white ms-3" id="nombreUsuario"></h4><!-- Esto lo agreguÃ© para mostrar el nombre del usuario-->
            <div class="ms-auto">
                <button class="dos btn btn-light me-2" onclick="cambiarTema()">ğŸŒ™ / â˜€ï¸</button>
                <button class="cuatro btn btn-danger" onclick="cerrarSesion()">Cerrar sesiÃ³n</button>
            </div>
        </nav>

        <div class="d-flex justify-content-between align-items-center mb-3">
            <h2 class="text-success">Dashboard de Alimentos</h2>
            <div>
                <button class="uno btn btn-success me-2" onclick="mostrarFormularioAlimento()">Registrar alimento</button>
                <button class="btn btn-outline-success" onclick="mostrarDirecciones()">ğŸ“– Libreta</button>
            </div>
        </div>

        <ul id="listaAlimentos" class="list-group">
            <li class="list-group-item">No hay alimentos registrados.</li><!-- Esto lo cambiÃ© para JS los alimentos predeterminados me causaban conflictos a la hora de editar-->
        </ul>
    </section>

    <!-- Pantalla Libreta de Direcciones -->
    <section id="pantalla-direcciones" style="display:none;" class="container py-4">
        <h2 class="text-success mb-3">ğŸ“– Libreta de Direcciones</h2>
        <form id="form-direccion" onsubmit="guardarDireccion(event)" class="mb-4">
            <input type="text" id="dir-nombre" class="form-control mb-2" placeholder="Nombre completo" required>
            <input type="text" id="dir-telefono" class="form-control mb-2" placeholder="TelÃ©fono" required>
            <input type="text" id="dir-direccion" class="form-control mb-2" placeholder="DirecciÃ³n" required>
            <input type="email" id="dir-correo" class="form-control mb-2" placeholder="Correo electrÃ³nico" required>
            <button class="btn btn-success w-100">Guardar direcciÃ³n</button>
        </form>
        <ul id="listaDirecciones" class="list-group"></ul>
        <button class="btn btn-secondary mt-3" onclick="volverDashboard()">Volver</button>
    </section>


    <!-- Ventana Registrar Alimento --><!-- Esto lo agreguÃ© para JS-->
    <div id="pantalla-alimento" style="display:none;" class="overlay">
        <div class="modal-content">
            <h3>Registrar nuevo alimento</h3>
            <form id="form-alimento" onsubmit="guardarAlimento(event)"> 
                <input type="text" id="nombre-alimento" placeholder="Nombre del alimento" class="form-control mb-3" required>
                <input type="date" id="fecha-vencimiento" class="form-control mb-3" required>
                <button type="submit" class="uno btn btn-success w-100 mb-2">Guardar</button>
                <button type="button" class="btn btn-secondary w-100" onclick="volverDashboard()">Volver</button>
            </form>
        </div>
    </div>

    <!-- Formulario de edicion -->
    <div id="formulario-edicion" style="display:none;" class="overlay">
        <div class="modal-content">
            <h3>Editar Alimento</h3>
            <form onsubmit="guardarCambios(event)">
                <input type="text" id="editar-nombre" class="form-control mb-3" placeholder="Nombre">
                <input type="date" id="editar-fecha" class="form-control mb-3">
                <button class="btn btn-success w-100 mb-2">Guardar cambios</button>
                <button type="button" class="cuatro btn btn-danger w-100 mb-2" onclick="eliminarActual()">Eliminar</button>
                <button type="button" class="btn btn-secondary w-100" onclick="volverDashboard()">Volver</button>
            </form>
        </div>
    </div>

    <!-- Contador de visitas -->
    <div class="text-center text-muted mt-4">
        <small id="contadorVisitas"></small>
    </div>

    <script src="script.js"></script>
</body>
</html>